{"ast":null,"code":"\"use client\";import{useRef,useState,useEffect}from\"react\";import{loadFaceApiModels,detectFaces,compareFaces}from\"../services/faceRecognition\";import{employeeAPI,attendanceAPI}from\"../services/api\";// --- Location Configuration ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OFFICE_LOCATION={latitude:13.332962,longitude:103.974389};const MAX_DISTANCE_METERS=100;// 100-meter radius\n// --- Helper function to calculate distance between two GPS coordinates ---\nfunction getDistance(lat1,lon1,lat2,lon2){const R=6371e3;// Earth's radius in meters\nconst φ1=lat1*Math.PI/180;const φ2=lat2*Math.PI/180;const Δφ=(lat2-lat1)*Math.PI/180;const Δλ=(lon2-lon1)*Math.PI/180;const a=Math.sin(Δφ/2)*Math.sin(Δφ/2)+Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)*Math.sin(Δλ/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;// in meters\n}function AttendanceScanner(){const videoRef=useRef(null);const scanIntervalRef=useRef(null);const[scanning,setScanning]=useState(false);const[scanType,setScanType]=useState(null);// 'check-in' or 'check-out'\nconst[employees,setEmployees]=useState([]);const[lastScanned,setLastScanned]=useState(null);const[loading,setLoading]=useState(true);const[isCameraOpen,setIsCameraOpen]=useState(false);const[isLocationValid,setIsLocationValid]=useState(false);const[locationMessage,setLocationMessage]=useState(\"\");const[message,setMessage]=useState(\"\");useEffect(()=>{const initializeScanner=async()=>{try{const loaded=await loadFaceApiModels();if(!loaded)throw new Error(\"Failed to load face models\");const response=await employeeAPI.getAll();if(response.success){setEmployees(response.employees);}setLoading(false);}catch(error){console.error(\"Initialization error:\",error);setMessage(\"Failed to initialize scanner\");setLoading(false);}};initializeScanner();return()=>{clearInterval(scanIntervalRef.current);// Clear interval on component unmount\nstopCamera();};},[]);const startCamera=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});if(videoRef.current){videoRef.current.srcObject=stream;setIsCameraOpen(true);checkLocation();// Check location when camera opens\n}}catch(error){console.error(\"Camera access denied:\",error);setMessage(\"Camera access denied\");}};const stopCamera=()=>{if(videoRef.current&&videoRef.current.srcObject){videoRef.current.srcObject.getTracks().forEach(track=>track.stop());videoRef.current.srcObject=null;setIsCameraOpen(false);setIsLocationValid(false);setLocationMessage(\"\");setScanning(false);// Stop scanning if camera is closed\n}};const checkLocation=()=>{if(!navigator.geolocation){setLocationMessage(\"Geolocation is not supported by your browser.\");setIsLocationValid(false);return;}setLocationMessage(\"Checking your location...\");navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;const distance=getDistance(latitude,longitude,OFFICE_LOCATION.latitude,OFFICE_LOCATION.longitude);if(distance<=MAX_DISTANCE_METERS){setLocationMessage(\"Location verified. You can now check in/out.\");setIsLocationValid(true);}else{setLocationMessage(\"You are too far from the office. Distance: \".concat(distance.toFixed(0),\" meters.\"));setIsLocationValid(false);}},()=>{setLocationMessage(\"Unable to retrieve your location. Please enable location services.\");setIsLocationValid(false);});};const startScanning=type=>{if(!isLocationValid){setMessage(\"Cannot scan: You are not at the required location.\");return;}setScanType(type);setScanning(true);setMessage(\"Scanning for \".concat(type,\"...\"));const scan=async()=>{if(!videoRef.current)return;try{const detections=await detectFaces(videoRef.current);if(detections.length>0){// Stop scanning once a face is detected\nclearInterval(scanIntervalRef.current);setScanning(false);const detection=detections[0];const faceDescriptor=detection.descriptor;let matchedEmployee=null;for(const employee of employees){if(!employee.faceDescriptor||typeof employee.faceDescriptor!=='object')continue;const descriptorValues=Object.values(employee.faceDescriptor);const empDescriptor=new Float32Array(descriptorValues);if(compareFaces(faceDescriptor,empDescriptor,0.55)){matchedEmployee=employee;break;}}if(matchedEmployee){try{const response=await attendanceAPI.markAttendance(matchedEmployee.id,type);setLastScanned({name:matchedEmployee.name,time:new Date().toLocaleTimeString(),type:type});setMessage(\"\".concat(type==='check-in'?'Welcome':'Goodbye',\", \").concat(matchedEmployee.name,\"! \").concat(response.message));setTimeout(()=>setMessage(\"\"),3000);}catch(error){console.error(\"Error marking attendance:\",error);if(error.response){const errorData=await error.response.json();setMessage(errorData.error||\"Error marking attendance\");}else{setMessage(\"Error marking attendance\");}}}else{setMessage(\"Face not recognized. Please try again.\");}}else if(scanning){// Only continue scanning if no face was found and we are still in scanning mode\nrequestAnimationFrame(scan);}}catch(error){console.error(\"Error during scan:\",error);setMessage(\"An error occurred during scanning.\");clearInterval(scanIntervalRef.current);setScanning(false);}};scan();// Start the scan loop\n};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-96\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 text-xl text-gray-700\",children:\"Loading face recognition models...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-gray-800\",children:\"Attendance Scanner\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-black rounded-lg overflow-hidden relative\",children:/*#__PURE__*/_jsx(\"video\",{ref:videoRef,autoPlay:true,playsInline:true,className:\"w-full h-80 object-cover\"})}),locationMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-lg text-white text-center font-semibold text-sm \".concat(isLocationValid?\"bg-green-500\":\"bg-red-500\"),children:locationMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 items-center\",children:[!isCameraOpen?/*#__PURE__*/_jsx(\"button\",{onClick:startCamera,className:\"w-full col-span-2 py-3 px-6 rounded-lg font-semibold text-white transition bg-blue-600 hover:bg-blue-700\",children:\"Open Camera\"}):/*#__PURE__*/_jsx(\"button\",{onClick:stopCamera,className:\"w-full col-span-2 py-3 px-6 rounded-lg font-semibold text-white transition bg-gray-600 hover:bg-gray-700\",children:\"Close Camera\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startScanning(\"check-in\"),disabled:scanning||!isCameraOpen||!isLocationValid,className:\"w-full py-3 px-6 rounded-lg font-semibold text-white transition \".concat(scanning||!isCameraOpen||!isLocationValid?\"bg-gray-400 cursor-not-allowed\":\"bg-green-600 hover:bg-green-700\"),children:scanning&&scanType==='check-in'?\"Scanning...\":\"Check In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startScanning(\"check-out\"),disabled:scanning||!isCameraOpen||!isLocationValid,className:\"w-full py-3 px-6 rounded-lg font-semibold text-white transition \".concat(scanning||!isCameraOpen||!isLocationValid?\"bg-gray-400 cursor-not-allowed\":\"bg-red-600 hover:bg-red-700\"),children:scanning&&scanType==='check-out'?\"Scanning...\":\"Check Out\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-lg text-white text-center font-semibold \".concat(message.includes(\"Welcome\")?\"bg-green-500\":\"bg-blue-500\"),children:message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4 text-gray-800\",children:\"Last Scanned\"}),lastScanned?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Name:\"}),\" \",lastScanned.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Time:\"}),\" \",lastScanned.time]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Action:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"capitalize\",children:lastScanned.type})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic\",children:\"No employee scanned yet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-blue-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4 text-gray-800\",children:\"Registered Employees\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-indigo-600\",children:employees.length})]})]})]})]});}export default AttendanceScanner;","map":{"version":3,"names":["useRef","useState","useEffect","loadFaceApiModels","detectFaces","compareFaces","employeeAPI","attendanceAPI","jsx","_jsx","jsxs","_jsxs","OFFICE_LOCATION","latitude","longitude","MAX_DISTANCE_METERS","getDistance","lat1","lon1","lat2","lon2","R","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","AttendanceScanner","videoRef","scanIntervalRef","scanning","setScanning","scanType","setScanType","employees","setEmployees","lastScanned","setLastScanned","loading","setLoading","isCameraOpen","setIsCameraOpen","isLocationValid","setIsLocationValid","locationMessage","setLocationMessage","message","setMessage","initializeScanner","loaded","Error","response","getAll","success","error","console","clearInterval","current","stopCamera","startCamera","stream","navigator","mediaDevices","getUserMedia","video","width","height","srcObject","checkLocation","getTracks","forEach","track","stop","geolocation","getCurrentPosition","position","coords","distance","concat","toFixed","startScanning","type","scan","detections","length","detection","faceDescriptor","descriptor","matchedEmployee","employee","descriptorValues","Object","values","empDescriptor","Float32Array","markAttendance","id","name","time","Date","toLocaleTimeString","setTimeout","errorData","json","requestAnimationFrame","className","children","ref","autoPlay","playsInline","onClick","disabled","includes"],"sources":["D:/we_project/face-recognition/v0-face-recognition-attendance/frontend/src/pages/AttendanceScanner.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useRef, useState, useEffect } from \"react\"\r\nimport { loadFaceApiModels, detectFaces, compareFaces } from \"../services/faceRecognition\"\r\nimport { employeeAPI, attendanceAPI } from \"../services/api\"\r\n\r\n// --- Location Configuration ---\r\nconst OFFICE_LOCATION = {\r\n  latitude: 13.332962,\r\n  longitude: 103.974389,\r\n};\r\nconst MAX_DISTANCE_METERS = 100; // 100-meter radius\r\n\r\n// --- Helper function to calculate distance between two GPS coordinates ---\r\nfunction getDistance(lat1, lon1, lat2, lon2) {\r\n  const R = 6371e3; // Earth's radius in meters\r\n  const φ1 = (lat1 * Math.PI) / 180;\r\n  const φ2 = (lat2 * Math.PI) / 180;\r\n  const Δφ = ((lat2 - lat1) * Math.PI) / 180;\r\n  const Δλ = ((lon2 - lon1) * Math.PI) / 180;\r\n\r\n  const a =\r\n    Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n    Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n  return R * c; // in meters\r\n}\r\n\r\nfunction AttendanceScanner() {\r\n  const videoRef = useRef(null)\r\n  const scanIntervalRef = useRef(null)\r\n  const [scanning, setScanning] = useState(false)\r\n  const [scanType, setScanType] = useState(null) // 'check-in' or 'check-out'\r\n  const [employees, setEmployees] = useState([])\r\n  const [lastScanned, setLastScanned] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [isCameraOpen, setIsCameraOpen] = useState(false)\r\n  const [isLocationValid, setIsLocationValid] = useState(false)\r\n  const [locationMessage, setLocationMessage] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const initializeScanner = async () => {\r\n      try {\r\n        const loaded = await loadFaceApiModels()\r\n        if (!loaded) throw new Error(\"Failed to load face models\")\r\n\r\n        const response = await employeeAPI.getAll()\r\n        if (response.success) {\r\n          setEmployees(response.employees)\r\n        }\r\n\r\n        setLoading(false)\r\n      } catch (error) {\r\n        console.error(\"Initialization error:\", error)\r\n        setMessage(\"Failed to initialize scanner\")\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    initializeScanner()\r\n\r\n    return () => {\r\n      clearInterval(scanIntervalRef.current) // Clear interval on component unmount\r\n      stopCamera()\r\n    }\r\n  }, [])\r\n\r\n  const startCamera = async () => {\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: { width: 640, height: 480 },\r\n      })\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream\r\n        setIsCameraOpen(true)\r\n        checkLocation() // Check location when camera opens\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Camera access denied:\", error)\r\n      setMessage(\"Camera access denied\")\r\n    }\r\n  }\r\n\r\n  const stopCamera = () => {\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach((track) => track.stop())\r\n      videoRef.current.srcObject = null\r\n      setIsCameraOpen(false)\r\n      setIsLocationValid(false)\r\n      setLocationMessage(\"\")\r\n      setScanning(false) // Stop scanning if camera is closed\r\n    }\r\n  }\r\n\r\n  const checkLocation = () => {\r\n    if (!navigator.geolocation) {\r\n      setLocationMessage(\"Geolocation is not supported by your browser.\")\r\n      setIsLocationValid(false)\r\n      return\r\n    }\r\n\r\n    setLocationMessage(\"Checking your location...\")\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        const { latitude, longitude } = position.coords\r\n        const distance = getDistance(latitude, longitude, OFFICE_LOCATION.latitude, OFFICE_LOCATION.longitude)\r\n\r\n        if (distance <= MAX_DISTANCE_METERS) {\r\n          setLocationMessage(\"Location verified. You can now check in/out.\")\r\n          setIsLocationValid(true)\r\n        } else {\r\n          setLocationMessage(`You are too far from the office. Distance: ${distance.toFixed(0)} meters.`)\r\n          setIsLocationValid(false)\r\n        }\r\n      },\r\n      () => {\r\n        setLocationMessage(\"Unable to retrieve your location. Please enable location services.\")\r\n        setIsLocationValid(false)\r\n      }\r\n    )\r\n  }\r\n\r\n  const startScanning = (type) => {\r\n    if (!isLocationValid) {\r\n      setMessage(\"Cannot scan: You are not at the required location.\");\r\n      return;\r\n    }\r\n    setScanType(type)\r\n    setScanning(true)\r\n    setMessage(`Scanning for ${type}...`);\r\n\r\n    const scan = async () => {\r\n      if (!videoRef.current) return;\r\n\r\n      try {\r\n        const detections = await detectFaces(videoRef.current);\r\n\r\n        if (detections.length > 0) {\r\n          // Stop scanning once a face is detected\r\n          clearInterval(scanIntervalRef.current);\r\n          setScanning(false);\r\n\r\n          const detection = detections[0];\r\n          const faceDescriptor = detection.descriptor;\r\n\r\n          let matchedEmployee = null;\r\n          for (const employee of employees) {\r\n            if (!employee.faceDescriptor || typeof employee.faceDescriptor !== 'object') continue;\r\n            const descriptorValues = Object.values(employee.faceDescriptor);\r\n            const empDescriptor = new Float32Array(descriptorValues);\r\n\r\n            if (compareFaces(faceDescriptor, empDescriptor, 0.55)) {\r\n              matchedEmployee = employee;\r\n              break;\r\n            }\r\n          }\r\n\r\n          if (matchedEmployee) {\r\n            try {\r\n              const response = await attendanceAPI.markAttendance(matchedEmployee.id, type);\r\n              setLastScanned({\r\n                name: matchedEmployee.name,\r\n                time: new Date().toLocaleTimeString(),\r\n                type: type,\r\n              });\r\n              setMessage(`${type === 'check-in' ? 'Welcome' : 'Goodbye'}, ${matchedEmployee.name}! ${response.message}`);\r\n              setTimeout(() => setMessage(\"\"), 3000);\r\n            } catch (error) {\r\n              console.error(\"Error marking attendance:\", error);\r\n              if (error.response) {\r\n                const errorData = await error.response.json();\r\n                setMessage(errorData.error || \"Error marking attendance\");\r\n              } else {\r\n                setMessage(\"Error marking attendance\");\r\n              }\r\n            }\r\n          } else {\r\n            setMessage(\"Face not recognized. Please try again.\");\r\n          }\r\n        } else if (scanning) { // Only continue scanning if no face was found and we are still in scanning mode\r\n          requestAnimationFrame(scan);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error during scan:\", error);\r\n        setMessage(\"An error occurred during scanning.\");\r\n        clearInterval(scanIntervalRef.current);\r\n        setScanning(false);\r\n      }\r\n    };\r\n\r\n    scan(); // Start the scan loop\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-96\">\r\n        <div className=\"text-center\">\r\n          <div className=\"mb-4 text-xl text-gray-700\">Loading face recognition models...</div>\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">Attendance Scanner</h2>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n        {/* Video Feed */}\r\n        <div className=\"flex flex-col gap-4\">\r\n          <div className=\"bg-black rounded-lg overflow-hidden relative\">\r\n            <video ref={videoRef} autoPlay playsInline className=\"w-full h-80 object-cover\" />\r\n          </div>\r\n\r\n          {locationMessage && (\r\n            <div\r\n              className={`p-3 rounded-lg text-white text-center font-semibold text-sm ${\r\n                isLocationValid ? \"bg-green-500\" : \"bg-red-500\"\r\n              }`}\r\n            >\r\n              {locationMessage}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-2 gap-4 items-center\">\r\n            {!isCameraOpen ? (\r\n              <button\r\n                onClick={startCamera}\r\n                className=\"w-full col-span-2 py-3 px-6 rounded-lg font-semibold text-white transition bg-blue-600 hover:bg-blue-700\"\r\n              >\r\n                Open Camera\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={stopCamera}\r\n                className=\"w-full col-span-2 py-3 px-6 rounded-lg font-semibold text-white transition bg-gray-600 hover:bg-gray-700\"\r\n              >\r\n                Close Camera\r\n              </button>\r\n            )}\r\n\r\n            <button\r\n              onClick={() => startScanning(\"check-in\")}\r\n              disabled={scanning || !isCameraOpen || !isLocationValid}\r\n              className={`w-full py-3 px-6 rounded-lg font-semibold text-white transition ${\r\n                scanning || !isCameraOpen || !isLocationValid ? \"bg-gray-400 cursor-not-allowed\" : \"bg-green-600 hover:bg-green-700\"\r\n              }`}\r\n            >\r\n              {scanning && scanType === 'check-in' ? \"Scanning...\" : \"Check In\"}\r\n            </button>\r\n            <button\r\n              onClick={() => startScanning(\"check-out\")}\r\n              disabled={scanning || !isCameraOpen || !isLocationValid}\r\n              className={`w-full py-3 px-6 rounded-lg font-semibold text-white transition ${\r\n                scanning || !isCameraOpen || !isLocationValid ? \"bg-gray-400 cursor-not-allowed\" : \"bg-red-600 hover:bg-red-700\"\r\n              }`}\r\n            >\r\n              {scanning && scanType === 'check-out' ? \"Scanning...\" : \"Check Out\"}\r\n            </button>\r\n          </div>\r\n\r\n          {message && (\r\n            <div\r\n              className={`p-4 rounded-lg text-white text-center font-semibold ${\r\n                message.includes(\"Welcome\") ? \"bg-green-500\" : \"bg-blue-500\"\r\n              }`}\r\n            >\r\n              {message}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Last Scanned */}\r\n        <div>\r\n          <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-800\">Last Scanned</h3>\r\n            {lastScanned ? (\r\n              <div className=\"space-y-2\">\r\n                <p className=\"text-lg text-gray-700\">\r\n                  <span className=\"font-semibold\">Name:</span> {lastScanned.name}\r\n                </p>\r\n                <p className=\"text-lg text-gray-700\">\r\n                  <span className=\"font-semibold\">Time:</span> {lastScanned.time}\r\n                </p>\r\n                <p className=\"text-lg text-gray-700\">\r\n                  <span className=\"font-semibold\">Action:</span> <span className=\"capitalize\">{lastScanned.type}</span>\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-500 italic\">No employee scanned yet</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"mt-6 bg-blue-50 p-6 rounded-lg\">\r\n            <h3 className=\"text-xl font-semibold mb-4 text-gray-800\">Registered Employees</h3>\r\n            <p className=\"text-2xl font-bold text-indigo-600\">{employees.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AttendanceScanner\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}