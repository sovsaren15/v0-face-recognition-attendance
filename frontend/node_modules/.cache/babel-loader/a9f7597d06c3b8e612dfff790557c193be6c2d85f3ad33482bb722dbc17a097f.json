{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\";\n\n// Attendance API calls\nexport const attendanceAPI = {\n  markAttendance: async (employeeId, faceDescriptor, timestamp) => {\n    const response = await fetch(`${API_BASE_URL}/attendance/mark`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        employeeId,\n        faceDescriptor: Array.from(faceDescriptor),\n        timestamp\n      })\n    });\n    if (!response.ok) throw new Error(\"Failed to mark attendance\");\n    return response.json();\n  },\n  getRecords: async (employeeId, startDate, endDate) => {\n    const params = new URLSearchParams();\n    if (startDate) params.append(\"startDate\", startDate);\n    if (endDate) params.append(\"endDate\", endDate);\n    const response = await fetch(`${API_BASE_URL}/attendance/employee/${employeeId}?${params}`, {\n      method: \"GET\"\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch records\");\n    return response.json();\n  },\n  getTodayAttendance: async () => {\n    const response = await fetch(`${API_BASE_URL}/attendance/today`, {\n      method: \"GET\"\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch today attendance\");\n    return response.json();\n  },\n  deleteRecord: async id => {\n    const response = await fetch(`${API_BASE_URL}/attendance/${id}`, {\n      method: \"DELETE\"\n    });\n    if (!response.ok) throw new Error(\"Failed to delete record\");\n    return response.json();\n  }\n};\n\n// Employee API calls\nexport const employeeAPI = {\n  register: async employeeData => {\n    const response = await fetch(`${API_BASE_URL}/employees/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        ...employeeData,\n        faceDescriptor: [...employeeData.faceDescriptor]\n      })\n    });\n    if (!response.ok) throw new Error(\"Failed to register employee\");\n    return response.json();\n  },\n  getAll: async () => {\n    const response = await fetch(`${API_BASE_URL}/employees`, {\n      method: \"GET\"\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch employees\");\n    return response.json();\n  },\n  getById: async id => {\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\n      method: \"GET\"\n    });\n    if (!response.ok) throw new Error(\"Failed to fetch employee\");\n    return response.json();\n  },\n  update: async (id, updates) => {\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(updates)\n    });\n    if (!response.ok) throw new Error(\"Failed to update employee\");\n    return response.json();\n  },\n  delete: async id => {\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\n      method: \"DELETE\"\n    });\n    if (!response.ok) throw new Error(\"Failed to delete employee\");\n    return response.json();\n  }\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","attendanceAPI","markAttendance","employeeId","faceDescriptor","timestamp","response","fetch","method","headers","body","JSON","stringify","Array","from","ok","Error","json","getRecords","startDate","endDate","params","URLSearchParams","append","getTodayAttendance","deleteRecord","id","employeeAPI","register","employeeData","getAll","getById","update","updates","delete"],"sources":["D:/we_project/face-recognition/v0-face-recognition-attendance/frontend/src/services/api.js"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/api\"\r\n\r\n// Attendance API calls\r\nexport const attendanceAPI = {\r\n  markAttendance: async (employeeId, faceDescriptor, timestamp) => {\r\n    const response = await fetch(`${API_BASE_URL}/attendance/mark`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        employeeId,\r\n        faceDescriptor: Array.from(faceDescriptor),\r\n        timestamp,\r\n      }),\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to mark attendance\")\r\n    return response.json()\r\n  },\r\n\r\n  getRecords: async (employeeId, startDate, endDate) => {\r\n    const params = new URLSearchParams()\r\n    if (startDate) params.append(\"startDate\", startDate)\r\n    if (endDate) params.append(\"endDate\", endDate)\r\n\r\n    const response = await fetch(`${API_BASE_URL}/attendance/employee/${employeeId}?${params}`, { method: \"GET\" })\r\n    if (!response.ok) throw new Error(\"Failed to fetch records\")\r\n    return response.json()\r\n  },\r\n\r\n  getTodayAttendance: async () => {\r\n    const response = await fetch(`${API_BASE_URL}/attendance/today`, {\r\n      method: \"GET\",\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to fetch today attendance\")\r\n    return response.json()\r\n  },\r\n\r\n  deleteRecord: async (id) => {\r\n    const response = await fetch(`${API_BASE_URL}/attendance/${id}`, {\r\n      method: \"DELETE\",\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to delete record\")\r\n    return response.json()\r\n  },\r\n}\r\n\r\n// Employee API calls\r\nexport const employeeAPI = {\r\n  register: async (employeeData) => {\r\n    const response = await fetch(`${API_BASE_URL}/employees/register`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        ...employeeData,\r\n        faceDescriptor: [...employeeData.faceDescriptor],\r\n      }),\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to register employee\")\r\n    return response.json()\r\n  },\r\n\r\n  getAll: async () => {\r\n    const response = await fetch(`${API_BASE_URL}/employees`, {\r\n      method: \"GET\",\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to fetch employees\")\r\n    return response.json()\r\n  },\r\n\r\n  getById: async (id) => {\r\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\r\n      method: \"GET\",\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to fetch employee\")\r\n    return response.json()\r\n  },\r\n\r\n  update: async (id, updates) => {\r\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(updates),\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to update employee\")\r\n    return response.json()\r\n  },\r\n\r\n  delete: async (id) => {\r\n    const response = await fetch(`${API_BASE_URL}/employees/${id}`, {\r\n      method: \"DELETE\",\r\n    })\r\n    if (!response.ok) throw new Error(\"Failed to delete employee\")\r\n    return response.json()\r\n  },\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}