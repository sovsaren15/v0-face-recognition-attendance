{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{employeeAPI}from\"../services/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EmployeeList(){const[employees,setEmployees]=useState([]);const[loading,setLoading]=useState(true);const[message,setMessage]=useState(\"\");useEffect(()=>{fetchEmployees();},[]);const fetchEmployees=async()=>{try{const response=await employeeAPI.getAll();if(response.success){setEmployees(response.employees);}setLoading(false);}catch(error){console.error(\"Error fetching employees:\",error);setMessage(\"Failed to load employees\");setLoading(false);}};const handleDelete=async id=>{if(window.confirm(\"Are you sure you want to delete this employee?\")){try{await employeeAPI.delete(id);setEmployees(employees.filter(e=>e.id!==id));setMessage(\"Employee deleted successfully\");setTimeout(()=>setMessage(\"\"),3000);}catch(error){console.error(\"Error deleting employee:\",error);setMessage(\"Failed to delete employee\");}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-96\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-gray-800\",children:\"Employees\"}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 bg-green-50 p-4 rounded-lg text-green-700\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold text-gray-700\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold text-gray-700\",children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left font-semibold text-gray-700\",children:\"Registered\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-center font-semibold text-gray-700\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-200 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-800\",children:employee.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-600\",children:employee.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-600\",children:employee.department}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-gray-600\",children:employee.registeredAt?new Date(employee.registeredAt).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(employee.id),className:\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded transition\",children:\"Delete\"})})]},employee.id))})]})}),employees.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No employees registered yet.\"})]});}export default EmployeeList;","map":{"version":3,"names":["useState","useEffect","employeeAPI","jsx","_jsx","jsxs","_jsxs","EmployeeList","employees","setEmployees","loading","setLoading","message","setMessage","fetchEmployees","response","getAll","success","error","console","handleDelete","id","window","confirm","delete","filter","e","setTimeout","className","children","map","employee","name","email","department","registeredAt","Date","toLocaleDateString","onClick","length"],"sources":["D:/we_project/face-recognition/v0-face-recognition-attendance/frontend/src/pages/EmployeeList.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { employeeAPI } from \"../services/api\"\r\n\r\nfunction EmployeeList() {\r\n  const [employees, setEmployees] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [message, setMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    fetchEmployees()\r\n  }, [])\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      const response = await employeeAPI.getAll()\r\n      if (response.success) {\r\n        setEmployees(response.employees)\r\n      }\r\n      setLoading(false)\r\n    } catch (error) {\r\n      console.error(\"Error fetching employees:\", error)\r\n      setMessage(\"Failed to load employees\")\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this employee?\")) {\r\n      try {\r\n        await employeeAPI.delete(id)\r\n        setEmployees(employees.filter((e) => e.id !== id))\r\n        setMessage(\"Employee deleted successfully\")\r\n        setTimeout(() => setMessage(\"\"), 3000)\r\n      } catch (error) {\r\n        console.error(\"Error deleting employee:\", error)\r\n        setMessage(\"Failed to delete employee\")\r\n      }\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-96\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-lg p-8\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-gray-800\">Employees</h2>\r\n\r\n      {message && <div className=\"mb-4 bg-green-50 p-4 rounded-lg text-green-700\">{message}</div>}\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead>\r\n            <tr className=\"border-b-2 border-gray-200\">\r\n              <th className=\"px-4 py-3 text-left font-semibold text-gray-700\">Name</th>\r\n              <th className=\"px-4 py-3 text-left font-semibold text-gray-700\">Email</th>\r\n              <th className=\"px-4 py-3 text-left font-semibold text-gray-700\">Department</th>\r\n              <th className=\"px-4 py-3 text-left font-semibold text-gray-700\">Registered</th>\r\n              <th className=\"px-4 py-3 text-center font-semibold text-gray-700\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {employees.map((employee) => (\r\n              <tr key={employee.id} className=\"border-b border-gray-200 hover:bg-gray-50\">\r\n                <td className=\"px-4 py-3 text-gray-800\">{employee.name}</td>\r\n                <td className=\"px-4 py-3 text-gray-600\">{employee.email}</td>\r\n                <td className=\"px-4 py-3 text-gray-600\">{employee.department}</td>\r\n                <td className=\"px-4 py-3 text-gray-600\">\r\n                  {employee.registeredAt ? new Date(employee.registeredAt).toLocaleDateString() : 'N/A'}\r\n                </td>\r\n                <td className=\"px-4 py-3 text-center\">\r\n                  <button\r\n                    onClick={() => handleDelete(employee.id)}\r\n                    className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded transition\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {employees.length === 0 && <div className=\"text-center py-8 text-gray-500\">No employees registered yet.</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EmployeeList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}